<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="style.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>

<body class=" hero-anime ">

    <div class="navigation-wrap bg-light start-header start-style ">
        <div class="container ">
            <div class="row ">
                <div class="col-12 ">
                    <nav class="navbar navbar-expand-md navbar-light ">

                        <a class="navbar-brand " href="3" target="_blank ">NEBA Share</a>

                        <button class="navbar-toggler " type="button " data-toggle="collapse " data-target="#navbarSupportedContent " aria-controls="navbarSupportedContent " aria-expanded="false " aria-label="Toggle navigation ">
							<span class="navbar-toggler-icon "></span>
						</button>

                        <div class="collapse navbar-collapse " id="navbarSupportedContent ">
                            <ul class="navbar-nav ml-auto py-4 py-md-0 ">
                                <li class="nav-item pl-4 pl-md-0 ml-0 ml-md-4 active ">
                                    <a class="nav-link dropdown-toggle " data-toggle="dropdown " href="# " role="button " aria-haspopup="true " aria-expanded="false "></a>
                                    <div class="dropdown-menu ">
                                        <a class="dropdown-item " href="# ">Action</a>
                                        <a class="dropdown-item " href="# ">Another action</a>
                                        <a class="dropdown-item " href="# ">Something else here</a>
                                        <a class="dropdown-item " href="# ">Another action</a>
                                    </div>
                                </li>

                            </ul>
                        </div>

                    </nav>
                </div>
            </div>
        </div>
    </div>


    <div class="bg-indigo-100 py-5 md:py-12v stream_cover  glass">
        <div class="container px-4 mx-auto">
            <div class="row">
                <div class="col-md-8 ">
                    <div class="mt-4 video_cover">
                        <div class="overflow-hidden aspect-ratio-16/9">
                            <div class="embed-responsive embed-responsive-16by9 ">
                                <video id="live-stream" class="w-100 h-100 object-cover " controls autoplay></video>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 ">
                    <div class="text-center max-w-2xl mx-auto">
                        <h4 class="text-3xl md:text-4xl font-medium mb-2">Learn Figma: User Interface Design Essentials - UI/UX DesignMaster</h4>
                        <label for="countries_multiple" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Select an option</label>
                        <select id="stream-select" class="form-select bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                  <option value="" selected disabled>Loading...</option>
                </select>
                    </div>

                    <div class="container mt-5">
                        <div class="card" style="max-width: 25rem; overflow: hidden;  margin-top: -5px;
                        transform: scale(1.1);">
                            <img class="card-img-top" src="" alt="Card Image" id="cardImage">
                            <div class="card-body" style="position: relative;">
                                <p class="card-text" id="cardText" style="max-height: 5.5em; overflow: hidden;">Loading...</p>
                                <span id="seeMore" style="position: absolute; bottom: 0; right: 0; background-color: white; padding: 5px; cursor: pointer;">See More</span>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>




    <script>
        const video = document.getElementById('live-stream');
        let streamUrl = document.getElementById('stream-select').value; // Get initial stream URL from selected option

        if (Hls.isSupported()) {
            const hls = new Hls();
            hls.loadSource(streamUrl);
            hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED, () => {
                video.play();
            });
        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            video.src = streamUrl;
            video.addEventListener('loadedmetadata', () => {
                video.play();
            });
        }

        const streamSelect = document.getElementById('stream-select');
        streamSelect.addEventListener('change', () => {
            streamUrl = streamSelect.value;

            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(streamUrl);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, () => {
                    video.play();
                });
            } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = streamUrl;
                video.addEventListener('loadedmetadata', () => {
                    video.play();
                });
            }
        });
    </script>
    <script>
        const select = document.getElementById('stream-select');

        fetch('https://script.google.com/macros/s/AKfycbyOyrIPEh-zQ2dVbNsS3hKavEEJBMo3ncJHbuWMLOFgMC3aGBZfPa22oIFjPpdKMKmD/exec')
            .then(response => response.json())
            .then(data => {
                select.innerHTML = '';
                data.forEach(item => {
                    const option = document.createElement('option');
                    option.value = item.text;
                    option.text = item.value;
                    select.appendChild(option);
                });
            })
            .catch(error => console.error('Error fetching data:', error));
    </script>

    <script>
        var navbarToggle = document.getElementById('navbar-toggle');
        var navbarCollapse = document.getElementById('navbar-collapse');
        navbarToggle.addEventListener('click', function() {
            navbarCollapse.classList.toggle('hidden');
            navbarCollapse.classList.toggle('flex');
        });
    </script>
    <script>
        const apiUrl = "https://telegram-channel-scraper-api.vercel.app/api/v2/get_post/nebanebo";
        const cardImage = document.getElementById("cardImage");
        const cardText = document.getElementById("cardText");
        const seeMoreButton = document.getElementById("seeMore");

        console.log("Fetching data from API...");

        function fetchLastPost() {
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    const lastPost = data[data.length - 1]; // Get the last post from the array
                    console.log("Last post data:", lastPost);

                    if (lastPost.photos && lastPost.photos.length > 0) {
                        cardImage.src = lastPost.photos;
                        cardImage.style.display = "block"; // Show the image
                    } else {
                        cardImage.style.display = "none"; // Hide the image
                    }

                    if (lastPost.description) {
                        cardText.textContent = lastPost.description;
                        cardText.style.maxHeight = "5.5em"; // Adjust this value as needed
                        seeMoreButton.textContent = "See More";
                        seeMoreButton.style.display = "inline"; // Show the button
                    } else {
                        cardText.textContent = ""; // No description
                        cardText.style.maxHeight = "0"; // Hide the text container
                        seeMoreButton.style.display = "none"; // Hide the button
                    }
                })
                .catch(error => {
                    console.error("Error fetching data:", error);
                    cardText.textContent = "An error occurred while fetching data.";
                });
        }

        // Function to toggle between showing full text and truncated text
        function toggleText() {
            if (cardText.style.maxHeight) {
                cardText.style.maxHeight = null;
                seeMoreButton.textContent = "See Less";
            } else {
                cardText.style.maxHeight = "5.5em"; // Adjust this value as needed
                seeMoreButton.textContent = "See More";
            }
        }

        seeMoreButton.addEventListener("click", toggleText);
        fetchLastPost(); // Fetch the last post initially

        const fetchInterval = 10000; // Fetch every 10 seconds
        setInterval(fetchLastPost, fetchInterval);
    </script>


    <a href="https://front.codes/ " class="logo " target="_blank ">
        <img src="https://assets.codepen.io/1462889/fcy.png " alt=" ">
    </a>
    <script src="app.js">
    </script>
    <script src=" https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js " integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r " crossorigin="anonymous "></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js " integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+ " crossorigin="anonymous "></script>
</body>

</html>
